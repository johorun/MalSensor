import os
import subprocess


gexf_dir = '/home/zhj/data2/20230929/MalwareDrift/gexf/'
gexf_list = os.listdir(gexf_dir)
gexf_num = len(gexf_list)
print(gexf_num)
filehash = []

pefile_dir = '/home/zhj/data2/20230929/MalwareDrift/malwareexe/'
pefile_list = os.listdir(pefile_dir)
pe_num = len(pefile_list)
print(pe_num)

for file in pefile_list:
	filename = pefile_dir + file
	gexfname = gexf_dir + file + '.gexf'
	status,result = subprocess.getstatusoutput('sha256sum %s' % filename)
	hashname = gexf_dir + result.split('  ')[0] + '.gexf'
	subprocess.getstatusoutput('mv %s %s' % (gexfname, hashname))